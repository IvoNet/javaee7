<!DOCTYPE html>
<!--
  ~ Copyright 2014 ivonet
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>CLIENT CERTIFICATE Security</title>
</head>
<body>

<h1>JavaEE7 JAX RS with CLIENT CERTIFICATE Authentication</h1>

<p>A CLIENT CERTIFICATE Authentication example from the "RESTFul Java Web Services Security" book.</p>

<p>In the book JBoss is used as the Application Server. In this example I use GlassFish 4.1</p>

<p>NOTE: Some commands are word wrapped but should be 1 line on the command prompt!</p>

<p>In order to get this example to work you have to do the following:</p>
<ul>
    <li>Create a new domain in Glassfish</li>
    <li>Copy the keystore and cacerts of glassfish to this project</li>
    <li>Adjust the domain properties to point to the local keystore and cacerts</li>
    <li>Create the Certificate</li>
    <li>import it into the keystore / truststore</li>
    <li>Try it out!</li>
</ul>


<p>See the cert.sh file in the resources folder.</p>

<p>Do nut run the script without checking it out first. It has been tested on a mac with glassfish installed through
    homebrew.</p>

<p>

</p>

<h2>Try it Out</h2>

<p>Well it does not work completely yet!</p>

<p>I do seem to have a working certificate (self signed) and have the website working (index.html) but when I try to
    access the CONFIDENTIAL resources it fails.</p>

<ul>
    <li><a href="http://localhost:7272/cert">index (works) if deployed under context-root cert</a></li>
    <li><a href="http://localhost:7272/cert/services/persons">GET on persons resource (empty response?!)</a></li>
</ul>

</body>
</html>